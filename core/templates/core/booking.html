{% extends 'base.html' %}


{% block content %}
  <div class="container">
    <h1>Book a Session</h1>
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-primary">Book Session</button>
    </form>
    <hr>
    <h2>Booked Hours</h2>
    {% for hour in booked_hours %}
      <p>{{ hour }}</p>
    {% endfor %}
  </div>
{% endblock %}

<!-- {% block content %}

<h1>Book a session</h1>

<form method="post">
  {% csrf_token %}

  <div class="form-group">
    <label for="{{ form.session_date.id_for_label }}">Session date</label>
    {{ form.session_date }}
    {% if form.session_date.errors %}
      {% for error in form.session_date.errors %}
        <div class="invalid-feedback">{{ error }}</div>
      {% endfor %}
    {% endif %}
  </div>

  <div class="form-group">
    <label for="{{ form.session_type.id_for_label }}">Session type</label>
    {{ form.session_type }}
    {% if form.session_type.errors %}
      {% for error in form.session_type.errors %}
        <div class="invalid-feedback">{{ error }}</div>
      {% endfor %}
    {% endif %}
  </div>

  <button type="submit" class="btn btn-primary">Book</button>

  {% if not user.is_membership_active %}
    <div class="alert alert-warning mt-3" role="alert">
      Your membership is not active. Please renew it to book a session.
    </div>
  {% endif %}

  {% if booking.is_sunday_booking %}
    <div class="alert alert-warning mt-3" role="alert">
      Sunday bookings are not allowed. Please choose another day.
    </div>
  {% endif %}

</form>

{% endblock %} -->
